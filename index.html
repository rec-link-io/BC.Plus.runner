<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>BCP Tapper</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    html, body {
      height: 100%;
      font-family: 'Orbitron', sans-serif;
      background: linear-gradient(to bottom, #0f2027, #203a43, #2c5364);
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #gameContainer {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 100%;
      max-width: 400px;
      height: 100%;
      max-height: 700px;
      position: relative;
    }
    canvas {
      width: 100%;
      height: 100%;
      max-width: 360px;
      max-height: 600px;
      background: radial-gradient(circle, #1b2735 0%, #090a0f 100%);
      border: 3px solid #00ffcc;
      box-shadow: 0 0 30px #00ffcc;
      border-radius: 15px;
      touch-action: none;
    }
    .hud {
      position: relative;
      width: 100%;
      max-width: 360px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 12px;
      border: 2px solid #00ffcc;
      color: #00ffcc;
      font-size: 16px;
      z-index: 10;
      transform: perspective(500px) rotateX(20deg);
    }
    .hud div {
      margin: 0 10px;
    }
    #startScreen {
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 100%;
      max-width: 360px;
      height: 100%;
      max-height: 600px;
      background: rgba(0, 0, 0, 0.9);
      color: #00ffcc;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      font-size: 2em;
      z-index: 15;
    }
    #notification, #withdrawNotification, #coinBonusNotification, #maxTempNotification {
      position: absolute;
      top: 20%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: rgba(0, 255, 200, 0.9);
      padding: 15px 30px;
      border-radius: 10px;
      border: 2px solid #00ffcc;
      color: #1a1a2e;
      font-size: 1.5em;
      font-weight: bold;
      display: none;
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.5);
      animation: fadeInOut 2s ease-in-out;
      z-index: 14;
    }
    #withdrawNotification {
      background: rgba(255, 215, 0, 0.9);
      border-color: #ffd700;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
    }
    #coinBonusNotification {
      background: rgba(255, 215, 0, 0.9);
      border-color: #ffd700;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
    }
    #maxTempNotification {
      background: rgba(255, 215, 0, 0.9);
      border-color: #ffd700;
      box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
    }
    .tap-feedback {
      position: absolute;
      color: #00ffcc;
      font-size: 1.2em;
      font-weight: bold;
      text-shadow: 0 0 10px #00ffcc;
      pointer-events: none;
      animation: fadePop 1s ease-out forwards;
      z-index: 13;
    }
    .btn {
      padding: 10px 20px;
      margin: 5px;
      background: linear-gradient(45deg, #00d4ff, #00ff88);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1em;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0, 255, 200, 0.5);
      font-family: 'Orbitron', sans-serif;
    }
    .btn:hover, .btn.active {
      background: linear-gradient(45deg, #00ff88, #00d4ff);
      transform: scale(1.1);
      box-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
    }
    .btn:active {
      transform: scale(0.95);
    }
    #tapArea {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background: linear-gradient(45deg, #00d4ff, #00ff88);
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.5);
      z-index: 10;
      cursor: pointer;
      animation: pulse 1s ease-in-out infinite;
    }
    #tapArea.active {
      transform: translate(-50%, -50%) scale(1.2);
      box-shadow: 0 0 30px rgba(255, 255, 255, 0.8);
    }
    #tempGauge {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      width: 30px;
      height: 400px;
      background: #333;
      border: 2px solid #00ffcc;
      border-radius: 8px;
      overflow: hidden;
    }
    #tempFill {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: linear-gradient(to top, #ff1744, #ffd700, #00ff88);
      transition: height 0.1s;
    }
    @keyframes fadeInOut {
      0% { opacity: 0; transform: translate(-50%, -70%) scale(0.8); }
      10% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      90% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -30%) scale(0.8); }
    }
    @keyframes fadePop {
      0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
      100% { opacity: 0; transform: translate(-50%, -150%) scale(1.3); }
    }
    @keyframes pulse {
      0% { transform: translate(-50%, -50%) scale(1); }
      50% { transform: translate(-50%, -50%) scale(1.2); }
      100% { transform: translate(-50%, -50%) scale(1); }
    }
    @media (max-width: 600px) {
      canvas {
        max-width: 90vw;
        max-height: 80vh;
      }
      .hud {
        max-width: 90vw;
        font-size: 14px;
        padding: 8px;
      }
      #startScreen {
        max-width: 90vw;
        max-height: 80vh;
        font-size: 1.5em;
      }
      #notification, #withdrawNotification, #coinBonusNotification, #maxTempNotification {
        font-size: 1.2em;
        padding: 10px 20px;
      }
      .tap-feedback {
        font-size: 1em;
      }
      #tapArea {
        width: 80px;
        height: 80px;
      }
      #tempGauge {
        width: 25px;
        height: 300px;
      }
    }
    .flash-loader {
      position: fixed;
      z-index: 5000;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100vw;
      height: 100vh;
      background: #121420;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: opacity 0.7s cubic-bezier(.55,.06,.68,.19);
      opacity: 1;
      pointer-events: all;
    }
    .flash-loader.hide {
      opacity: 0;
      pointer-events: none;
    }
    .flash-loader-imgbox {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      min-width: 160px;
      min-height: 160px;
    }
    @keyframes flash-logo-glow {
      0% {
        filter: brightness(0.8) blur(0px);
        box-shadow: 0 0 10px #25ee8833, 0 0 0 2px #25ee88;
      }
      40% {
        filter: brightness(1.2) blur(0.5px);
        box-shadow: 0 0 24px #25ee88bb, 0 0 0 2px #25ee88;
      }
      60% {
        filter: brightness(1.6) blur(2.5px);
        box-shadow: 0 0 32px #25ee88f1, 0 0 0 4px #25ee88;
      }
      100% {
        filter: brightness(2) blur(4px);
        box-shadow: 0 0 56px #25ee88ff, 0 0 0 5px #25ee88;
      }
    }
    .flash-loader-spinner {
      width: 36px;
      height: 36px;
      border: 4.5px solid #fff2;
      border-top: 4.5px solid #25EE88;
      border-radius: 50%;
      animation: spin 0.85s linear infinite;
      margin: 0 auto 1.3rem auto;
      opacity: 0.8;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .flash-loader-text {
      color: #fff;
      letter-spacing: .06em;
      font-weight: 600;
      font-size: 1.29rem;
      opacity: 0.92;
      text-shadow: 0 2px 8px #25EE8880;
    }
    @media (max-width: 600px) {
      .flash-loader-img { width: 85vw; height: 85vw; min-width: 80px; min-height: 80px; max-width: 90vw; max-height: 90vw; }
      .flash-loader-imgbox { min-width: 90px; min-height: 90px; }
      .flash-loader-text { font-size: 1.07rem; }
      .flash-loader-spinner { width: 26px; height: 26px; border-width: 3px; }
    }
  </style>
</head>
<body>
  <div id="flash-loader" class="flash-loader">
    <div class="flash-loader-imgbox">
      <img class="flash-loader-img" src="https://raw.githubusercontent.com/rec-link-io/BC.Plus/7ecc35e2dbc9c4ac5ebb3ea94c10bbb536104b7f/assets/BCPlus%20logo.gif" alt="Loading BC.Plus...">
    </div>
    <div class="flash-loader-spinner"></div>
    <div class="flash-loader-text"></div>
  </div>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
  <div id="gameContainer">
    <div class="hud">
      <div>üíé BCP Wallet: <span id="coinCounter">0</span></div>
      <div>üéØ Score: <span id="score">0</span></div>
      <div>üî• Taps: <span id="tapCount">0</span></div>
      <div>üèÜ High Taps: <span id="highTapCount">0</span></div>
      <div>
        <button class="btn" id="pauseBtn">‚è∏Ô∏è</button>
        <button class="btn" id="soundBtn">üîä</button>
        <button class="btn" id="withdrawBtn"><i class="fas fa-wallet"></i></button>
      </div>
    </div>
    <div id="startScreen">
      <h1>üéÆ BCP Tapper</h1>
      <p>Tap the circle to earn BCP coins!</p>
      <button class="btn" id="startBtn">Start Game</button>
    </div>
    <div id="notification">Tap faster to reach 100 for 5000 BCP!</div>
    <div id="withdrawNotification">BCP Withdraw Coming Soon</div>
    <div id="coinBonusNotification">+200 BCP Coins!</div>
    <div id="maxTempNotification">Max Temperature! +5000 BCP!</div>
    <div id="tapArea"></div>
    <div id="tempGauge">
      <div id="tempFill"></div>
    </div>
    <canvas id="gameCanvas" width="360" height="600"></canvas>
  </div>

  <script>
    window.onload = function() {
      const canvas = document.getElementById('gameCanvas');
      const ctx = canvas.getContext('2d');
      const coinCounter = document.getElementById('coinCounter');
      const scoreDisplay = document.getElementById('score');
      const tapCountDisplay = document.getElementById('tapCount');
      const highTapCountDisplay = document.getElementById('highTapCount');
      const pauseBtn = document.getElementById('pauseBtn');
      const soundBtn = document.getElementById('soundBtn');
      const withdrawBtn = document.getElementById('withdrawBtn');
      const tapArea = document.getElementById('tapArea');
      const tempGauge = document.getElementById('tempGauge');
      const tempFill = document.getElementById('tempFill');
      const startScreen = document.getElementById('startScreen');
      const notification = document.getElementById('notification');
      const withdrawNotification = document.getElementById('withdrawNotification');
      const coinBonusNotification = document.getElementById('coinBonusNotification');
      const maxTempNotification = document.getElementById('maxTempNotification');
      const startBtn = document.getElementById('startBtn');

      let score = 0;
      let wallet = parseFloat(localStorage.getItem('bcpWallet')) || 0;
      let tapCount = 0;
      let temperature = 0;
      let lastTapTime = 0;
      let paused = false;
      let highScore = parseInt(localStorage.getItem('highScore')) || 0;
      let highTapCount = parseInt(localStorage.getItem('highTapCount')) || 0;
      let soundOn = true;
      let animationId;
      let tapAreaHit = false;
      let hitEffectDuration = 0;
      let tapFeedbacks = [];
      let particles = [];
      let explosions = [];
      let streak = 0;
      let multiplier = 1;

      const tapSound = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');

      coinCounter.textContent = wallet.toFixed(2);
      scoreDisplay.textContent = score;
      tapCountDisplay.textContent = tapCount;
      highTapCountDisplay.textContent = highTapCount;

      startBtn.addEventListener('click', startGame);
      tapArea.addEventListener('mousedown', handleTap);
      tapArea.addEventListener('touchstart', (e) => {
        e.preventDefault();
        tapArea.classList.add('active');
        handleTap(e);
      });
      tapArea.addEventListener('touchend', (e) => {
        e.preventDefault();
        tapArea.classList.remove('active');
      });
      pauseBtn.addEventListener('click', togglePause);
      soundBtn.addEventListener('click', toggleSound);
      withdrawBtn.addEventListener('click', showWithdrawNotification);

      function startGame() {
        startScreen.style.display = 'none';
        resetGame();
        requestAnimationFrame(update);
        showNotification('Tap faster to reach 100 for 5000 BCP!');
      }

      function resetGame() {
        score = 0;
        wallet = parseFloat(localStorage.getItem('bcpWallet')) || 0;
        tapCount = 0;
        temperature = 0;
        streak = 0;
        multiplier = 1;
        paused = false;
        tapAreaHit = false;
        hitEffectDuration = 0;
        tapFeedbacks = [];
        particles = [];
        explosions = [];
        notification.style.display = 'none';
        withdrawNotification.style.display = 'none';
        coinBonusNotification.style.display = 'none';
        maxTempNotification.style.display = 'none';
        tapArea.style.display = 'block';
        tempFill.style.height = '0%';
        updateHUD();
      }

      function togglePause() {
        paused = !paused;
        pauseBtn.textContent = paused ? '‚ñ∂Ô∏è' : '‚è∏Ô∏è';
        if (!paused) requestAnimationFrame(update);
      }

      function toggleSound() {
        soundOn = !soundOn;
        soundBtn.textContent = soundOn ? 'üîä' : 'üîá';
      }

      function showWithdrawNotification() {
        withdrawNotification.style.display = 'block';
        setTimeout(() => {
          withdrawNotification.style.display = 'none';
        }, 2000);
      }

      function showNotification(message) {
        notification.innerText = message;
        notification.style.display = 'block';
        setTimeout(() => {
          notification.style.display = 'none';
        }, 2000);
      }

      function showCoinBonus() {
        coinBonusNotification.innerText = `+200 BCP Coins!`;
        coinBonusNotification.style.display = 'block';
        setTimeout(() => {
          coinBonusNotification.style.display = 'none';
        }, 2000);
      }

      function showMaxTempBonus() {
        maxTempNotification.innerText = `Max Temperature! +5000 BCP!`;
        maxTempNotification.style.display = 'block';
        setTimeout(() => {
          maxTempNotification.style.display = 'none';
        }, 2000);
      }

      function spawnParticles(x, y) {
        const particleCount = 5 + Math.floor(Math.random() * 5);
        for (let i = 0; i < particleCount; i++) {
          particles.push({
            x: x,
            y: y,
            vx: (Math.random() - 0.5) * 6,
            vy: (Math.random() - 0.5) * 6,
            size: 3 + Math.random() * 3,
            life: 1000,
            color: `hsl(${Math.random() * 60 + 180}, 100%, 50%)`
          });
        }
      }

      function shakeScreen() {
        const intensity = 10;
        let count = 0;
        const interval = setInterval(() => {
          count++;
          if (count > 10) {
            canvas.style.transform = '';
            clearInterval(interval);
          } else {
            const x = (Math.random() - 0.5) * intensity;
            const y = (Math.random() - 0.5) * intensity;
            canvas.style.transform = `translate(${x}px, ${y}px)`;
          }
        }, 50);
      }

      function handleTap(e) {
        const now = Date.now();
        const timeSinceLastTap = now - lastTapTime;
        lastTapTime = now;

        // Update streak and multiplier
        if (timeSinceLastTap < 500) {
          streak++;
          if (streak >= 10) multiplier = 3;
          else if (streak >= 5) multiplier = 2;
          else if (streak >= 2) multiplier = 1.5;
        } else {
          streak = 1;
          multiplier = 1;
        }

        tapCount++;
        score += 1;
        const bcpEarned = (0.01 * multiplier).toFixed(2);
        wallet += parseFloat(bcpEarned);
        localStorage.setItem('bcpWallet', wallet.toFixed(2));

        // Add tap feedback
        const feedback = document.createElement('div');
        feedback.className = 'tap-feedback';
        feedback.innerText = `+${bcpEarned}${multiplier > 1 ? ` (${multiplier}x)` : ''}`;
        const tapAreaRect = tapArea.getBoundingClientRect();
        const containerRect = gameContainer.getBoundingClientRect();
        const x = tapAreaRect.left + tapAreaRect.width / 2 - containerRect.left;
        const y = tapAreaRect.top + tapAreaRect.height / 2 - containerRect.top;
        feedback.style.left = `${x}px`;
        feedback.style.top = `${y}px`;
        gameContainer.appendChild(feedback);
        tapFeedbacks.push({ element: feedback, time: 1000 });

        // Spawn particles at tap area center
        spawnParticles(canvas.width / 2, canvas.height / 2);

        // Temperature rises by 2 per tap
        temperature = Math.min(100, temperature + 2);
        tapAreaHit = true;
        hitEffectDuration = 200;

        if (tapCount >= 100) {
          wallet += 200;
          localStorage.setItem('bcpWallet', wallet.toFixed(2));
          tapCount -= 100;
          showCoinBonus();
        }
        if (temperature >= 150) {
          wallet += 5000;
          localStorage.setItem('bcpWallet', wallet.toFixed(2));
          temperature = 0;
          showMaxTempBonus();
          shakeScreen();
          explosions.push({ x: canvas.width / 2, y: canvas.height / 2, radius: 0, life: 1000 });
        }

        if (tapCount > highTapCount) {
          highTapCount = tapCount;
          localStorage.setItem('highTapCount', highTapCount);
        }

        if (soundOn) {
          tapSound.currentTime = 0;
          tapSound.play().catch(() => {});
        }
        updateHUD();
      }

      function update() {
        if (paused) return;
        animationId = requestAnimationFrame(update);
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        if (tapAreaHit) {
          hitEffectDuration -= 16.67;
          if (hitEffectDuration <= 0) {
            tapAreaHit = false;
          }
        }

        // Temperature decay
        const now = Date.now();
        const timeSinceLastTap = now - lastTapTime;
        if (timeSinceLastTap > 100) {
          temperature = Math.max(0, temperature - 0.3);
        }

        // Update tap feedback
        tapFeedbacks = tapFeedbacks.filter(f => {
          f.time -= 16.67;
          if (f.time <= 0) {
            f.element.remove();
            return false;
          }
          return true;
        });

        // Update particles
        particles.forEach((p, i) => {
          p.x += p.vx;
          p.y += p.vy;
          p.life -= 16.67;
          ctx.fillStyle = p.color;
          ctx.beginPath();
          ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
          ctx.fill();
          if (p.life <= 0) particles.splice(i, 1);
        });

        // Update explosions
        explosions.forEach((e, i) => {
          e.radius += 5;
          e.life -= 16.67;
          const gradient = ctx.createRadialGradient(e.x, e.y, 0, e.x, e.y, e.radius);
          gradient.addColorStop(0, 'rgba(0, 255, 255, 0.8)');
          gradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
          ctx.fillStyle = gradient;
          ctx.beginPath();
          ctx.arc(e.x, e.y, e.radius, 0, Math.PI * 2);
          ctx.fill();
          if (e.life <= 0) explosions.splice(i, 1);
        });

        tempFill.style.height = `${temperature}%`;
        updateHUD();
        drawTapArea();
      }

      function drawTapArea() {
        ctx.save();
        ctx.translate(canvas.width / 2, canvas.height / 2);
        if (tapAreaHit) {
          ctx.fillStyle = 'red';
          ctx.shadowColor = 'red';
          ctx.shadowBlur = 20;
        } else {
          const gradient = ctx.createRadialGradient(0, 0, 0, 0, 0, 50);
          gradient.addColorStop(0, '#00d4ff');
          gradient.addColorStop(1, '#00ff88');
          ctx.fillStyle = gradient;
          ctx.shadowColor = '#00ffcc';
          ctx.shadowBlur = 15;
        }
        ctx.beginPath();
        ctx.arc(0, 0, 50, 0, Math.PI * 2);
        ctx.fill();
        ctx.shadowBlur = 0;
        ctx.restore();
      }

      function updateHUD() {
        coinCounter.textContent = wallet.toFixed(2);
        scoreDisplay.textContent = score;
        tapCountDisplay.textContent = tapCount;
        highTapCountDisplay.textContent = highTapCount;
      }

      // --- Loader ---
      document.body.classList.add('overflow-hidden');
      setTimeout(() => {
        const loader = document.getElementById('flash-loader');
        if (loader) loader.classList.add('hide');
        document.body.classList.remove('overflow-hidden');
      }, 1200);
    };
  </script>
</body>
</html>